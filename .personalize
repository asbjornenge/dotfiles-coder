#!/bin/bash

# Collect missing packages
missing=()
for pkg in fish iputils-ping dnsutils; do
  if ! command -v "${pkg%% *}" &>/dev/null; then
    missing+=("$pkg")
  fi
done

# If Neovim isn't installed, get it from the unstable PPA
if ! command -v nvim &>/dev/null; then
  sudo apt update
  sudo apt install -y software-properties-common
  sudo add-apt-repository -y ppa:neovim-ppa/unstable
  sudo apt update
  sudo apt install -y neovim
fi

# Install any other missing packages
if [ ${#missing[@]} -gt 0 ]; then
  sudo apt update
  sudo apt install -y "${missing[@]}"
fi

# Clone NvChad starter if ~/.config/nvim doesnâ€™t exist
if [ ! -d "$HOME/.config/nvim" ]; then
  git clone --depth 1 https://github.com/NvChad/starter "$HOME/.config/nvim"
fi

